<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="The Sono Wolf">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#990000">
    <title>The Sono Wolf - Stony Brook Ultrasound Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: none !important;
            animation: none !important;
            transform: none !important;
            box-shadow: none !important;
            border-radius: 0 !important;
            backdrop-filter: none !important;
            filter: none !important;
        }

        /* Allow collapse animation ONLY */
        .collapse {
            transition: height 0.2s ease !important;
        }

        .collapsing {
            transition: height 0.2s ease !important;
        }

        /* Exception for spinner only */
        .spinner {
            animation: spin 1s linear infinite !important;
        }

        @keyframes spin {
            0% { transform: rotate(0deg) !important; }
            100% { transform: rotate(360deg) !important; }
        }

        body {
            font-family: 'Courier New', monospace;
            line-height: 1.4;
            color: #000000;
            background: #BEBEBE;
            background-image: 
                radial-gradient(circle at 25% 25%, #39BFC9 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, #990000 1px, transparent 1px);
            background-size: 50px 50px;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            overscroll-behavior: none;
            -webkit-overflow-scrolling: touch;
            position: relative;
        }

        html {
            height: -webkit-fill-available;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: env(safe-area-inset-top, 20px) env(safe-area-inset-right, 20px) env(safe-area-inset-bottom, 20px) env(safe-area-inset-left, 20px);
            padding-top: max(env(safe-area-inset-top), 20px);
        }

        /* Prevent zoom on iOS */
        input, select, textarea {
            font-size: 16px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            background: #39BFC9;
            padding: 20px;
            border: 4px solid #000000;
            border-style: outset;
            box-shadow: 4px 4px 0px #4B4B4B;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 8px;
            color: #990000;
            font-family: 'Impact', 'Arial Black', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 2px 2px 0px #000000;
        }

        .subtitle {
            font-size: 1rem;
            color: #000000;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .search-container {
            margin-bottom: 20px;
            text-align: center;
            padding: 0 10px;
        }

        .search-box {
            width: 100%;
            max-width: 500px;
            padding: 8px 15px;
            font-size: 16px;
            border: 3px solid #000000;
            border-style: inset;
            background: #BEBEBE;
            color: #000000;
            outline: none;
            -webkit-appearance: none;
            touch-action: manipulation;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }

        .search-box:focus {
            background: #39BFC9;
            border-style: outset;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .category-card {
            background: #828282;
            border: 3px solid #000000;
            border-style: outset;
            box-shadow: 3px 3px 0px #4B4B4B;
            touch-action: manipulation;
        }

        .category-header {
            background: #828282;
            padding: 18px;
            cursor: pointer;
            user-select: none;
            border-bottom: 3px solid #000000;
        }

        .category-header:hover {
            background: #39BFC9;
        }

        .category-header:active {
            border-style: inset;
        }

        .category-title {
            font-size: 0.95rem;
            font-weight: normal;
            color: #990000;
            font-family: 'Impact', 'Arial Black', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .collapse-indicator {
            font-size: 1.2rem;
            font-weight: bold;
            color: #000000;
        }

        .category-content {
            padding: 18px;
            overflow: hidden;
        }

        .category-subheader {
            font-family: 'Courier New', monospace;
            color: #990000;
            font-size: 0.9rem;
            margin: 15px 0 8px 0;
            text-transform: uppercase;
            border-bottom: 1px solid #4B4B4B;
            font-weight: bold;
        }

        .category-subheader:first-child {
            margin-top: 0;
        }

        .video-link {
            display: block;
            text-decoration: none;
            color: #000000;
            background: #BEBEBE;
            margin-bottom: 6px;
            padding: 8px 12px;
            border: 2px solid #000000;
            border-style: outset;
            font-weight: bold;
            cursor: pointer;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            font-size: 12px;
            min-height: 44px;
            display: flex;
            align-items: center;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .video-link:hover, .video-link:active, .video-link:focus {
            background: #39BFC9;
            border-style: inset;
            color: #000000;
        }

        .video-count {
            background: #990000;
            color: #BEBEBE;
            font-size: 0.8rem;
            padding: 2px 6px;
            border: 1px solid #000000;
            margin-left: 10px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }

        .hidden {
            display: none;
        }

        /* Collapse states */
        .collapse {
            display: none;
        }

        .collapse.show {
            display: block;
        }

        .collapsing {
            height: 0;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .categories-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            .category-card {
                padding: 0;
            }

            .category-header {
                padding: 15px;
            }

            .category-content {
                padding: 15px;
            }

            .container {
                padding: env(safe-area-inset-top, 10px) env(safe-area-inset-right, 15px) env(safe-area-inset-bottom, 10px) env(safe-area-inset-left, 15px);
            }

            .video-link {
                font-size: 11px;
            }
        }

        /* iPhone X and newer specific */
        @supports (padding: max(0px)) {
            .container {
                padding-top: max(env(safe-area-inset-top), 20px);
            }
        }

        /* Hide scrollbars but keep functionality on mobile */
        @media (max-width: 768px) {
            ::-webkit-scrollbar {
                display: none;
            }
            
            * {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
        }

        /* Prevent pull-to-refresh */
        @media (max-width: 768px) {
            body {
                overscroll-behavior-y: none;
                -webkit-overflow-scrolling: touch;
            }
        }

        /* Footer styling */
        footer {
            text-align: center;
            padding: 20px;
            background: #828282;
            border: 2px solid #000000;
            border-style: inset;
            margin: 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: #000000;
        }

        @media (min-width: 860px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
            }
        }

        @media (min-width: 1240px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .subtitle {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>The Sono Wolf</h1>
            <p class="subtitle">An Ultrasound Education Portal</p>
        </header>

        <div class="search-container">
            <input type="text" class="search-box" placeholder="Search by topic..." id="searchBox">
        </div>

        <div class="categories-grid" id="categoriesGrid">
            <!-- Basics Category -->
            <div class="category-card" data-category="basics">
                <div class="category-header" onclick="toggleCollapse('collapse-basics')">
                    <div class="category-title">
                        <span>Basics</span>
                        <span class="collapse-indicator" id="indicator-basics">+</span>
                    </div>
                </div>
                <div id="collapse-basics" class="collapse category-content">
                    <h3 class="category-subheader">Videos</h3>
                    <a href="https://coreultrasound.com/knobology/" class="video-link" target="_blank">Knobology</a>
                    <a href="https://coreultrasound.com/basic_physics/" class="video-link" target="_blank">Basic Ultrasound Physics</a>
                    <a href="https://coreultrasound.com/artifacts_1/" class="video-link" target="_blank">Ultrasound Artifacts, Part 1</a>
                    <a href="https://coreultrasound.com/artifacts_2/" class="video-link" target="_blank">Ultrasound Artifacts, Part 2 </a>
                    <a href="https://coreultrasound.com/5ms_machinedecon/" class="video-link" target="_blank">Machine Decontamination</a>
                </div>
            </div>

            <!-- Cardiac Category -->
            <div class="category-card" data-category="cardiac">
                <div class="category-header" onclick="toggleCollapse('collapse-cardiac')">
                    <div class="category-title">
                        <span>Cardiac</span>
                        <span class="collapse-indicator" id="indicator-cardiac">+</span>
                    </div>
                </div>
                <div id="collapse-cardiac" class="collapse category-content">
                    <h3 class="category-subheader">Anatomy</h3>
                    <a href="https://img.grepmed.com/uploads/1464/orientations-atlas-table-anatomy-cardiology-84-original.jpeg" class="video-link" target="_blank">Labeled Anatomy</a>
                    
                    <h3 class="category-subheader">Scanning Protocols</h3>
                    <a href="https://www.showmethepocus.com/planes-and-cardiac-windows" class="video-link" target="_blank">Cardiac Windows</a>
                    <a href="https://onlinelibrary.wiley.com/doi/epdf/10.1111/acem.12652" class="video-link" target="_blank">5 E's Cardiac Ultrasound Article</a>
                    <a href="#" class="video-link" onclick="show5EsTable(event)">5 E's Table</a>
                    
                    <h3 class="category-subheader">Clinical Applications</h3>
                    <a href="https://medchiefs.bsd.uchicago.edu/files/2014/11/IVCfluidresponsiveness.pdf" class="video-link" target="_blank">IVC Collapsibility / Distensibility</a>
                    <a href="https://www.totalem.org/uploads/8/1/8/8/81889406/wall-motion-abnormality_orig.gif" class="video-link" target="_blank">Wall Motion Abnormalities</a>
                    
                    <h3 class="category-subheader">Videos</h3>
                    <a href="https://coreultrasound.com/how-to-obtain-cardiac-windows/" class="video-link" target="_blank">How to Obtain Cardiac Windows</a>
                    <a href="https://coreultrasound.com/basic-cardiac-function/" class="video-link" target="_blank">Basic Cardiac Function</a>
                    <a href="https://coreultrasound.com/ivc/" class="video-link" target="_blank">IVC</a>
                </div>
            </div>

            <!-- Lung Category -->
            <div class="category-card" data-category="lung">
                <div class="category-header" onclick="toggleCollapse('collapse-lung')">
                    <div class="category-title">
                        <span>Lung</span>
                        <span class="collapse-indicator" id="indicator-lung">+</span>
                    </div>
                </div>
                <div id="collapse-lung" class="collapse category-content">
                    <h3 class="category-subheader">Anatomy</h3>
                    <a href="https://ars.els-cdn.com/content/image/1-s2.0-S0363018816301281-gr2_lrg.jpg" class="video-link" target="_blank">Lung Anatomy Diagram</a>
                    
                    <h3 class="category-subheader">Scanning Protocols</h3>
                    <a href="https://famus.org.uk/wp-content/uploads/sites/6/BLUE-protocol-schematic-1-1536x850.jpg" class="video-link" target="_blank">BLUE Protocol</a>
                    <a href="https://www.nysora.com/wp-content/uploads/2023/05/unnamed-3-1252x1536.jpg" class="video-link" target="_blank">BLUE Protocol Findings</a>
                    
                    <h3 class="category-subheader">Clinical Applications</h3>
                    <a href="https://nephropocus.com/2019/12/03/the-shred-sign/" class="video-link" target="_blank">The Shred Sign</a>
                    <a href="https://nephropocus.com/2019/06/04/pleural-effusion-the-spine-sign/" class="video-link" target="_blank">The Spine Sign</a>
                    
                    <h3 class="category-subheader">Videos</h3>
                    <a href="https://coreultrasound.com/how-to-perform-a-pulmonary-exam/" class="video-link" target="_blank">How to Perform a Pulmonary Exam</a>
                    <a href="https://coreultrasound.com/b-lines/" class="video-link" target="_blank">B-lines</a>
                    <a href="https://coreultrasound.com/pneumothorax/" class="video-link" target="_blank">Pneumothorax</a>
                    <a href="https://coreultrasound.com/pleural-effusions-part-1/" class="video-link" target="_blank">Pleural Effusion, Part 1</a>
                    <a href="https://coreultrasound.com/pleural-effusions-part-2/" class="video-link" target="_blank">Pleural Effusion, Part 2</a>
                    <a href="https://coreultrasound.com/pneumonia/" class="video-link" target="_blank">Pneumonia</a>
                </div>
            </div>

            <!-- Protocols Category -->
            <div class="category-card" data-category="protocols">
                <div class="category-header" onclick="toggleCollapse('collapse-protocols')">
                    <div class="category-title">
                        <span>Protocols</span>
                        <span class="collapse-indicator" id="indicator-protocols">+</span>
                    </div>
                </div>
                <div id="collapse-protocols" class="collapse category-content">
                    <h3 class="category-subheader">Resources</h3>
                    <a href="https://onlinelibrary.wiley.com/doi/10.1155/2012/503254" class="video-link" target="_blank">RUSH Journal Article</a>
                    <a href="#" class="video-link" onclick="showRushTable(event)">RUSH Protocol Table</a>
                    
                    <h3 class="category-subheader">Videos</h3>
                    <a href="https://coreultrasound.com/rush-exam/" class="video-link" target="_blank">RUSH exam</a>
                    <a href="https://coreultrasound.com/efast/" class="video-link" target="_blank">EFAST exam</a>
                    <a href="https://www.showmethepocus.com/five-standard-views-cardiac-ultrasound" class="video-link" target="_blank">The 5 E's</a>
                </div>
            </div>

            <!-- Genitourinary Category -->
            <div class="category-card" data-category="genitourinary">
                <div class="category-header" onclick="toggleCollapse('collapse-genitourinary')">
                    <div class="category-title">
                        <span>Genitourinary</span>
                        <span class="collapse-indicator" id="indicator-genitourinary">+</span>
                    </div>
                </div>
                <div id="collapse-genitourinary" class="collapse category-content">
                    <h3 class="category-subheader">Scanning Protocols</h3>
                    <a href="https://www.pocus101.com/renal-ultrasound-made-easy-step-by-step-guide/#Step-by-Step_Renal_Ultrasound_Protocol" class="video-link" target="_blank">Renal Ultrasound</a>
                    
                    <h3 class="category-subheader">Videos</h3>
                    <a href="https://coreultrasound.com/bladder-volume-measurement/" class="video-link" target="_blank">Bladder Volume Measurement</a>
                </div>
            </div>

            <!-- Gastrointestinal Category -->
            <div class="category-card" data-category="gastrointestinal">
                <div class="category-header" onclick="toggleCollapse('collapse-gastrointestinal')">
                    <div class="category-title">
                        <span>Gastrointestinal</span>
                        <span class="collapse-indicator" id="indicator-gastrointestinal">+</span>
                    </div>
                </div>
                <div id="collapse-gastrointestinal" class="collapse category-content">
                    <h3 class="category-subheader">Normal Anatomy</h3>
                    <a href="https://pocus101.b-cdn.net/wp-content/uploads/2020/10/Portal-Triad-Mickey-Mouse-Sign-Portal-Vein-CBD-Right-Hepatic-Artery-Hepatobiliary-Ultrasound-2-1024x715.png" class="video-link" target="_blank">Portal Triad Mickey Mouse View</a>
                    
                    <h3 class="category-subheader">Videos</h3>
                    <a href="https://coreultrasound.com/gallbladder/" class="video-link" target="_blank">Gallbladder</a>
                </div>
            </div>

            <!-- Reproductive Category -->
            <div class="category-card" data-category="reproductive">
                <div class="category-header" onclick="toggleCollapse('collapse-reproductive')">
                    <div class="category-title">
                        <span>Reproductive</span>
                        <span class="collapse-indicator" id="indicator-reproductive">+</span>
                    </div>
                </div>
                <div id="collapse-reproductive" class="collapse category-content">
                    <h3 class="category-subheader">Videos</h3>
                    <a href="https://coreultrasound.com/ob-gyn-scanning-technique-5ms/" class="video-link" target="_blank">Basic Ob-Gyn Scanning Technique</a>
                    <a href="https://coreultrasound.com/ntrauterine-pregnancy-assessment-5ms/" class="video-link" target="_blank">Intrauterine Pregnancy Identification</a>
                </div>
            </div>

            <!-- Venous Thromboembolism Category -->
            <div class="category-card" data-category="vte">
                <div class="category-header" onclick="toggleCollapse('collapse-vte')">
                    <div class="category-title">
                        <span>Venous Thromboembolism</span>
                        <span class="collapse-indicator" id="indicator-vte">+</span>
                    </div>
                </div>
                <div id="collapse-vte" class="collapse category-content">
                    <a href="https://coreultrasound.com/dvt/" class="video-link" target="_blank">Deep Venous Thrombosis</a>
                </div>
            </div>

            <!-- Musculoskeletal Category -->
            <div class="category-card" data-category="musculoskeletal msk">
                <div class="category-header" onclick="toggleCollapse('collapse-musculoskeletal')">
                    <div class="category-title">
                        <span>Musculoskeletal</span>
                        <span class="collapse-indicator" id="indicator-musculoskeletal">+</span>
                    </div>
                </div>
                <div id="collapse-musculoskeletal" class="collapse category-content">
                    <h3 class="category-subheader">Scanning Protocols</h3>
                    <a href="https://essr.org/content-essr/uploads/2016/10/shoulder.pdf#page=2.00" class="video-link" target="_blank">Shoulder Protocol</a>
                    <a href="https://essr.org/content-essr/uploads/2016/10/elbow.pdf#page=2.00" class="video-link" target="_blank">Elbow Protocol</a>
                    <a href="https://essr.org/content-essr/uploads/2016/10/wrist.pdf#page=2.00" class="video-link" target="_blank">Wrist Protocol</a>
                    <a href="https://essr.org/content-essr/uploads/2016/10/hip.pdf#page=2.00" class="video-link" target="_blank">Hip Protocol</a>
                    <a href="https://essr.org/content-essr/uploads/2016/10/knee.pdf#page=2.00" class="video-link" target="_blank">Knee Protocol</a>
                    <a href="https://essr.org/content-essr/uploads/2016/10/ankle.pdf#page=2.00" class="video-link" target="_blank">Ankle Protocol</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Credits Footer -->
    <footer>
        <p>Powered by Core Ultrasound, NephroPOCUS, MedChiefs, POCUS101, and Show Me The POCUS Resources</p>
    </footer>

    <script>
        // Collapse functionality
        function toggleCollapse(collapseId) {
            const content = document.getElementById(collapseId);
            const indicator = document.getElementById('indicator-' + collapseId.replace('collapse-', ''));
            
            if (content.classList.contains('show')) {
                content.classList.remove('show');
                indicator.textContent = '+';
            } else {
                content.classList.add('show');
                indicator.textContent = '−';
            }
        }

        // Search functionality
        const searchBox = document.getElementById('searchBox');

        function performSearch() {
            const searchTerm = searchBox.value.toLowerCase().trim();
            const categoryCards = document.querySelectorAll('.category-card');
            
            if (searchTerm === '') {
                categoryCards.forEach(card => {
                    card.classList.remove('hidden');
                    const links = card.querySelectorAll('.video-link');
                    links.forEach(link => link.classList.remove('hidden'));
                });
                return;
            }

            categoryCards.forEach(card => {
                const categoryTitle = card.querySelector('.category-title').textContent.toLowerCase();
                const links = card.querySelectorAll('.video-link');
                let hasVisibleLinks = false;
                const categoryMatches = categoryTitle.includes(searchTerm);

                // Expand card if search matches
                if (categoryMatches || searchTerm !== '') {
                    const collapseContent = card.querySelector('.collapse');
                    const indicator = card.querySelector('.collapse-indicator');
                    if (collapseContent && !collapseContent.classList.contains('show')) {
                        collapseContent.classList.add('show');
                        if (indicator) indicator.textContent = '−';
                    }
                }

                links.forEach(link => {
                    const linkText = link.textContent.toLowerCase();
                    if (linkText.includes(searchTerm) || categoryMatches) {
                        link.classList.remove('hidden');
                        hasVisibleLinks = true;
                    } else {
                        link.classList.add('hidden');
                    }
                });

                if (hasVisibleLinks) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        }

        // RUSH table function
        function showRushTable(e) {
            e.preventDefault();
            const tableHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>RUSH Protocol Table</title>
                    <style>
                        body { 
                            font-family: 'Courier New', monospace; 
                            background: #BEBEBE; 
                            margin: 20px; 
                            color: #000000;
                        }
                        .container {
                            background: #BEBEBE; 
                            border: 4px solid #000000; 
                            border-style: outset; 
                            padding: 20px; 
                            max-width: 1000px; 
                            margin: 0 auto;
                        }
                        h2 { 
                            color: #990000; 
                            text-align: center; 
                            margin-bottom: 20px; 
                            text-transform: uppercase; 
                        }
                        h3 { 
                            color: #990000; 
                            margin-bottom: 15px; 
                        }
                        .grid { 
                            display: grid; 
                            grid-template-columns: 1fr 1fr 1fr; 
                            gap: 15px; 
                            font-size: 12px; 
                        }
                        .step { 
                            background: #828282; 
                            border: 2px solid #000000; 
                            border-style: inset; 
                            padding: 15px; 
                        }
                        h4 { 
                            color: #990000; 
                            text-transform: uppercase; 
                            margin-bottom: 10px; 
                        }
                        .section { 
                            margin-bottom: 15px; 
                        }
                        @media (max-width: 768px) {
                            .grid { grid-template-columns: 1fr; }
                        }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h2>RUSH Protocol Table</h2>
                        <h3>Table 2: Using the RUSH protocol to diagnose the type of shock</h3>
                        
                        <div class="grid">
                            <div class="step">
                                <h4>Step 1: Pump</h4>
                                <div class="section">
                                    <strong>Pericardial effusion:</strong><br>
                                    • Effusion present?<br>
                                    • Signs of tamponade?<br>
                                    • Diastolic collapse of R Vent +/− R Atrium?
                                </div>
                                <div class="section">
                                    <strong>Left ventricular contractility:</strong><br>
                                    • Hyperdynamic?<br>
                                    • Normal?<br>
                                    • Decreased?
                                </div>
                                <div class="section">
                                    <strong>Right ventricular strain:</strong><br>
                                    • Increased size of RV?<br>
                                    • Septal displacement from right to left?
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>Step 2: Tank</h4>
                                <div class="section">
                                    <strong>Tank volume:</strong><br>
                                    <u>Inferior vena cava:</u><br>
                                    • Large size/small Insp collapse? —CVP high—<br>
                                    • Small size/large Insp collapse? —CVP Low—<br>
                                    <u>Internal jugular veins:</u><br>
                                    • Small or large?
                                </div>
                                <div class="section">
                                    <strong>Tank leakiness:</strong><br>
                                    <u>E-FAST exam:</u><br>
                                    • Free fluid Abd/Pelvis?<br>
                                    • Free fluid thoracic cavity?<br>
                                    <u>Pulm edema:</u><br>
                                    • Lung rockets?
                                </div>
                                <div class="section">
                                    <strong>Tank compromise:</strong><br>
                                    <u>Tension pneumothorax:</u><br>
                                    • Absent lung sliding?<br>
                                    • Absent comet tails?
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>Step 3: Pipes</h4>
                                <div class="section">
                                    <strong>Abdominal aorta aneurysm:</strong><br>
                                    • Abd aorta > 3 cm?
                                </div>
                                <div class="section">
                                    <strong>Thoracic aorta aneurysm/dissection:</strong><br>
                                    • Aortic root > 3.8 cm?<br>
                                    • Intimal flap?<br>
                                    • Thor aorta > 5 cm?
                                </div>
                                <div class="section">
                                    <strong>Femoral vein DVT:</strong><br>
                                    • Noncompressible vessel?
                                </div>
                                <div class="section">
                                    <strong>Popliteal vein DVT:</strong><br>
                                    • Noncompressible vessel?
                                </div>
                            </div>
                        </div>
                    </div>
                </body>
                </html>
            `;
            
            const newWindow = window.open('', '_blank');
            newWindow.document.write(tableHTML);
            newWindow.document.close();
        }

        // 5 E's table function
        function show5EsTable(e) {
            e.preventDefault();
            const tableHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>5 E's Cardiac Ultrasound Table</title>
                    <style>
                        body { 
                            font-family: 'Courier New', monospace; 
                            background: #BEBEBE; 
                            margin: 20px; 
                            color: #000000;
                        }
                        .container {
                            background: #BEBEBE; 
                            border: 4px solid #000000; 
                            border-style: outset; 
                            padding: 20px; 
                            max-width: 1200px; 
                            margin: 0 auto;
                        }
                        h2 { 
                            color: #990000; 
                            text-align: center; 
                            margin-bottom: 20px; 
                            text-transform: uppercase; 
                        }
                        h3 { 
                            color: #990000; 
                            margin-bottom: 15px; 
                        }
                        .grid { 
                            display: grid; 
                            grid-template-columns: 1fr 1fr 1fr 1fr 1fr; 
                            gap: 15px; 
                            font-size: 11px; 
                        }
                        .step { 
                            background: #828282; 
                            border: 2px solid #000000; 
                            border-style: inset; 
                            padding: 15px; 
                        }
                        h4 { 
                            color: #990000; 
                            text-transform: uppercase; 
                            margin-bottom: 10px; 
                            font-size: 12px;
                        }
                        .section { 
                            margin-bottom: 12px; 
                        }
                        .category { 
                            color: #990000; 
                            font-weight: bold; 
                            margin-bottom: 5px; 
                        }
                        .findings { 
                            margin-bottom: 8px; 
                        }
                        .additional { 
                            color: #000080; 
                            font-size: 10px; 
                        }
                        @media (max-width: 1024px) {
                            .grid { grid-template-columns: 1fr 1fr; }
                        }
                        @media (max-width: 768px) {
                            .grid { grid-template-columns: 1fr; }
                        }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h2>5 E's Cardiac Ultrasound Protocol</h2>
                        <h3>Table 1: Explanation of the 5Es</h3>
                        
                        <div class="grid">
                            <div class="step">
                                <h4>1. Effusion</h4>
                                <div class="section">
                                    <div class="category">Categorization of Findings</div>
                                    <div class="findings">
                                        • None (trace)<br>
                                        • Small (&lt;1 cm)<br>
                                        • Moderate (1-2 cm)<br>
                                        • Large (&gt;2 cm)
                                    </div>
                                </div>
                                <div class="section">
                                    <div class="category">Additional Findings</div>
                                    <div class="additional">
                                        • Tamponade physiology<br>
                                        • RV free wall collapse in diastole (may use M-mode)<br>
                                        • RA collapse in ventricular systole<br>
                                        • 25% respirophasic variation in peak velocity using spectral Doppler<br>
                                        • Plethoric IVC
                                    </div>
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>2. Ejection</h4>
                                <div class="section">
                                    <div class="category">Categorization of Findings</div>
                                    <div class="findings">
                                        • Hyperdynamic (EF &gt; 65%)<br>
                                        • Normal (EF 50%-65%)<br>
                                        • Moderately depressed (EF 30%-50%)<br>
                                        • Severely depressed (EF &lt; 30%)<br>
                                        • No significant myocardial activity
                                    </div>
                                </div>
                                <div class="section">
                                    <div class="category">Additional Findings</div>
                                    <div class="additional">
                                        • E-point septal separation &lt; 7 mm is normal<br>
                                        • LV diameter &gt; 6 cm in diastole is abnormal<br>
                                        • Wall motion abnormalities using "SALPI" mnemonic (septal, anterior, lateral, posterior, inferior) on short-axis view
                                    </div>
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>3. Equality</h4>
                                <div class="section">
                                    <div class="category">Categorization of Findings</div>
                                    <div class="findings">
                                        • Normal (RV:LV &lt; 1)<br>
                                        • Enlarged (RV:LV ≥ 1)
                                    </div>
                                </div>
                                <div class="section">
                                    <div class="category">Additional Findings</div>
                                    <div class="additional">
                                        • Other signs of RV strain:<br>
                                        &nbsp;&nbsp;○ Septal bowing (D-shaped septum)<br>
                                        &nbsp;&nbsp;○ McConnell's sign<br>
                                        &nbsp;&nbsp;○ Elevated RV pressure estimated using continuous wave Doppler with peak TR<br>
                                        &nbsp;&nbsp;○ Tricuspid annular plane systolic excursion (TAPSE) &lt; 16 mm<br>
                                        • Beware chronic RV strain (COPD, pulmonary hypertension)<br>
                                        &nbsp;&nbsp;○ RV free wall thickness &gt; 5 mm<br>
                                        &nbsp;&nbsp;○ TR jet very elevated (&gt;4 m/sec)<br>
                                        &nbsp;&nbsp;○ Absent McConnell's sign
                                    </div>
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>4. Exit</h4>
                                <div class="section">
                                    <div class="category">Categorization of Findings</div>
                                    <div class="findings">
                                        • Normal root (&lt;4 cm)<br>
                                        • Borderline root (4-4.5 cm)<br>
                                        • TAA (&gt;4.5 cm)
                                    </div>
                                </div>
                                <div class="section">
                                    <div class="category">Additional Findings</div>
                                    <div class="additional">
                                        • Dissection flap<br>
                                        • Aortic regurgitation using color Doppler<br>
                                        • Pericardial effusion
                                    </div>
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>5. Entrance</h4>
                                <div class="section">
                                    <div class="category">Categorization of Findings</div>
                                    <div class="findings">
                                        • Flat IVC (&lt;1 cm, &gt; 75% collapse)<br>
                                        • Normal collapse<br>
                                        • Full IVC (&gt;2 cm, &lt; 25% collapse)
                                    </div>
                                </div>
                                <div class="section">
                                    <div class="category">Additional Findings</div>
                                    <div class="additional">
                                        • Can use M-mode to calculate caval index:<br>
                                        &nbsp;&nbsp;max IVC diameter - min IVC diameter<br>
                                        &nbsp;&nbsp;÷ max IVC diameter<br>
                                        • Measurements within 1-2 cm of hepatic vein
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 20px; font-size: 10px; color: #666;">
                            <strong>Abbreviations:</strong> COPD = chronic obstructive pulmonary disease; EF = ejection fraction; IVC = inferior vena cava; LA = left atrium; LV = left ventricle; RA = right atrium; RV = right ventricle; TAA = thoracic aortic aneurysm; TR = tricuspid regurgitation.
                        </div>
                    </div>
                </body>
                </html>
            `;
            
            const newWindow = window.open('', '_blank');
            newWindow.document.write(tableHTML);
            newWindow.document.close();
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            searchBox.addEventListener('input', performSearch);
        });
    </script>
</body>
</html>
